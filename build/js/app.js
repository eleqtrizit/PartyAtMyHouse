!function(){"use strict";function t(t,r,o,e){r.when("","/"),r.otherwise("/404.html"),e.setPrefix("PartyAtMyHouse"),t.state("root",{url:"/",templateUrl:"build/partials/home/home.html",controller:"HomeController",controllerAs:"homeCtl"}).state("leaveparty",{url:"/leaveparty",templateUrl:"build/partials/leaveparty/leaveparty.html",controller:"LeavePartyController",controllerAs:"leaveCtl"}).state("playlist",{url:"/playlist",templateUrl:"build/partials/playlist/playlist.html",controller:"PlaylistController",controllerAs:"playlistCtl",resolve:{songList:["PlaylistService",function(t){return t.getPlaylist()}]}}).state("joinparty",{url:"/joinparty",templateUrl:"build/partials/joinparty/joinparty.html",controller:"JoinController",controllerAs:"joinCtl"}).state("auth",{url:"/auth",templateUrl:"build/partials/auth/auth.html",controller:"AuthController",controllerAs:"authCtl"}).state("startparty",{url:"/startparty",templateUrl:"build/partials/startparty/startparty.html",controller:"StartPartyController",controllerAs:"startCtl"}).state("partystarted",{url:"/partystarted/:partyNumber",templateUrl:"build/partials/partystarted/partystarted.html",controller:"PartyStartedController",controllerAs:"psCtl",resolve:{partyID:["PartyStartedService","$stateParams",function(t,r){return t.getPartyNumber(r.partyNumber)}]}}).state("artistsearch",{url:"/artistsearch",templateUrl:"build/partials/artistsearch/artistsearch.html",controller:"ArtistSearchController",controllerAs:"asCtl",resolve:{artistList:["ArtistSearchService",function(t){return t.findArtist()}]}}).state("songsearch",{url:"/songsearch",templateUrl:"build/partials/songsearch/songsearch.html",controller:"SongSearchController",controllerAs:"ssCtl",resolve:{songList:["SongSearchService",function(t){return t.findSong()}]}}).state("albumsearch",{url:"/albumsearch",templateUrl:"build/partials/albumsearch/albumsearch.html",controller:"AlbumSearchController",controllerAs:"albCtl",resolve:{albumList:["AlbumSearchService",function(t){return t.findAlbum()}]}}).state("albumsongs",{url:"/albumsongs/:albumID",templateUrl:"build/partials/albumsongs/albumsongs.html",controller:"AlbumSongController",controllerAs:"albsCtl",resolve:{albumSongList:["AlbumSongService","$stateParams",function(t,r){return t.findAlbumSong(r.albumID)}]}}).state("songsbyartist",{url:"/songsbyartist/:artistID",templateUrl:"build/partials/songsbyartist/songsbyartist.html",controller:"SongsByArtistController",controllerAs:"sbaCtl",resolve:{songsByArtistList:["SongsByArtistService","$stateParams",function(t,r){return t.findSongsByArtist(r.artistID)}]}})}t.$inject=["$stateProvider","$urlRouterProvider","$httpProvider","storageProvider"],angular.module("PartyAtMyHouse",["ui.router"]).run(["$rootScope",function(t){t.$on("$stateChangeError",console.log.bind(console))}]).config(t)}(),function(){"use strict";angular.module("PartyAtMyHouse").provider("storage",function(){function t(t){return o?o+e+t:t}var r=this,o="",e=".";r.setPrefix=function(t,r){t&&(o=t,r&&(e=r))},r.$get=function(){return{set:function(r,o){localStorage.setItem(t(r),JSON.stringify(o))},get:function(r,o){return(o=angular.isFunction(o)?o:angular.identity)(JSON.parse(localStorage.getItem(t(r))))},forget:function(r){localStorage.removeItem(t(r))}}}})}(),function(){"use strict";angular.module("PartyAtMyHouse").factory("Album",function(){function t(t){_.merge(this,{name:"",uri:"",href:""},t||{})}return t})}(),function(){"use strict";function t(t,r,o){function e(){console.log("Search Album=");var t="https://api.spotify.com/v1/search?q="+n.searchalbum+"&type=album";console.log(t),r.findAlbum(t).then(function(){n.albums=r.albums}),console.log("new album search="),console.log(n.albums)}var n=this;n.title="Album Search",n.albums=t,n.researchAlbum=e,n.searchalbum=""}t.$inject=["albumList","AlbumSearchService","storage"],angular.module("PartyAtMyHouse").controller("AlbumSearchController",t)}(),function(){"use strict";function t(t,r){function o(t){if(n.albums=[],t)return r.get(t).then(function(t){return n.makeList(t.data.albums.items)},function(t){return console.log(t),"ERROR!"})}function e(r){return _.forEach(r,function(r){n.albums.push(new t(r))}),n.albums}var n=this;n.findAlbum=o,n.makeList=e,n.albums=[]}angular.module("PartyAtMyHouse").service("AlbumSearchService",t),t.$inject=["Album","$http"]}(),function(){"use strict";function t(t){var r=this;r.songs=t}t.$inject=["albumSongList"],angular.module("PartyAtMyHouse").controller("AlbumSongController",t)}(),function(){"use strict";function t(t,r){function o(t){n.songs=[];var o="https://api.spotify.com/v1/albums/"+t+"/tracks";return console.log("URL = "+o),console.log("albumID = "+t),r.get(o).then(function(t){return console.log("res="),console.log(t),n.makeSongList(t.data.items)},function(t){return console.log(t),"ERROR!"})}function e(r){return _.forEach(r,function(r){n.songs.push(new t(r))}),n.songs}var n=this;n.findAlbumSong=o,n.makeSongList=e,n.songs=[]}angular.module("PartyAtMyHouse").service("AlbumSongService",t),t.$inject=["Song","$http"]}(),function(){"use strict";angular.module("PartyAtMyHouse").factory("Artist",function(){function t(t){_.merge(this,{name:"",uri:"",href:""},t||{}),this.pamh="Something"}return t})}(),function(){"use strict";function t(t,r,o){function e(){console.log("Search Artist=");var t="https://api.spotify.com/v1/search?q="+n.searchartist+"&type=artist";console.log(t),r.findArtist(t).then(function(){n.artists=r.artists}),console.log("new artist search="),console.log(n.artists)}var n=this;n.title="Artist Search",n.artists=t,n.researchArtist=e,n.searchartist=""}t.$inject=["artistList","ArtistSearchService","storage"],angular.module("PartyAtMyHouse").controller("ArtistSearchController",t)}(),function(){"use strict";function t(t,r){function o(t){if(n.artists=[],t)return r.get(t).then(function(t){return n.makeList(t.data.artists.items)},function(t){return console.log(t),"ERROR!"})}function e(r){return _.forEach(r,function(r){n.artists.push(new t(r))}),n.artists}var n=this;n.findArtist=o,n.makeList=e,n.artists=[]}angular.module("PartyAtMyHouse").service("ArtistSearchService",t),t.$inject=["Artist","$http"]}(),function(){"use strict";function t(){}angular.module("PartyAtMyHouse").controller("AuthController",t)}(),function(){"use strict";function t(t){}angular.module("PartyAtMyHouse").service("AuthService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){var r=this;r.hello="hello",r.partyID=t.get("Party")}t.$inject=["storage"],angular.module("PartyAtMyHouse").controller("HomeController",t)}(),function(){"use strict"}(),function(){"use strict";function t(t,r){function o(){console.log(e.partyID);var o="http://www.partyatmy.house/validate_party.cgi?partyID="+e.partyID;return r.get(o).then(function(r){console.log("res="),console.log(r),"true"===r.data?(console.log("Party Validated"),t.set("Party",e.partyID),e.validation=1):console.log(r.data)})}var e=this;e.joinParty=o,e.partyID="",e.validation=""}t.$inject=["storage","$http"],angular.module("PartyAtMyHouse").controller("JoinController",t)}(),function(){"use strict";function t(t){t.forget("Party")}t.$inject=["storage"],angular.module("PartyAtMyHouse").controller("LeavePartyController",t)}(),function(){"use strict";function t(t,r){var o=this;o.partyID=t,r.set("Party",o.partyID)}t.$inject=["partyID","storage"],angular.module("PartyAtMyHouse").controller("PartyStartedController",t)}(),function(){"use strict";function t(t){function r(t){if(t)return t}var o=this;o.getPartyNumber=r}angular.module("PartyAtMyHouse").service("PartyStartedService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){var r=this;r.songs=t}t.$inject=["songList"],angular.module("PartyAtMyHouse").controller("PlaylistController",t)}(),function(){"use strict";function t(t,r,o){function e(t){s.songs=[];var t=o.get("Party");return console.log(t),r.get("http://www.partyatmy.house/playlistcacher.cgi?partyID="+t).then(function(t){return console.log("res="),console.log(t),s.makeList(t.data.items)},function(t){return console.log(t),"ERROR!"})}function n(t){return _.forEach(t,function(t){console.log(t.track),s.songs.push(t.track)}),s.songs}var s=this;s.getPlaylist=e,s.makeList=n,s.songs=[]}angular.module("PartyAtMyHouse").service("PlaylistService",t),t.$inject=["Song","$http","storage"]}(),function(){"use strict";angular.module("PartyAtMyHouse").factory("Song",function(){function t(t){_.merge(this,{name:"",uri:"",href:""},t||{})}return t})}(),function(){"use strict";function t(t,r,o){var e=this;e.partyID=r.get("Party"),e.artistID=o.artistID,e.songs=t}t.$inject=["songsByArtistList","storage","$stateParams"],angular.module("PartyAtMyHouse").controller("SongsByArtistController",t)}(),function(){"use strict";function t(t,r){function o(t){n.songs=[];var o="https://api.spotify.com/v1/artists/"+t+"/top-tracks?country=US";return console.log("URL = "+o),console.log("artistID = "+t),r.get(o).then(function(t){return console.log("res="),console.log(t),n.makeSongList(t.data.tracks)},function(t){return console.log(t),"ERROR!"})}function e(r){return _.forEach(r,function(r){n.songs.push(new t(r))}),console.log("makesonglist"),n.songs}var n=this;n.findSongsByArtist=o,n.makeSongList=e,n.songs=[]}angular.module("PartyAtMyHouse").service("SongsByArtistService",t),t.$inject=["Song","$http"]}(),function(){"use strict";function t(t,r,o){function e(){var t="https://api.spotify.com/v1/search?q="+n.searchsong+"&type=track&market=US";console.log("Search Song="+t),r.findSong(t).then(function(){n.songs=r.songs}),console.log("new song search="),console.log(n.songs)}var n=this;n.title="Song Search",n.songs=t,n.researchSong=e,n.searchsong="",n.partyID=o.get("Party")}t.$inject=["songList","SongSearchService","storage"],angular.module("PartyAtMyHouse").controller("SongSearchController",t)}(),function(){"use strict";function t(t,r){function o(t){if(n.songs=[],t)return r.get(t).then(function(t){return console.log("res="),console.log(t),n.makeList(t.data.tracks.items)},function(t){return console.log(t),"ERROR!"})}function e(r){return _.forEach(r,function(r){n.songs.push(new t(r))}),n.songs}var n=this;n.findSong=o,n.makeList=e,n.songs=[]}angular.module("PartyAtMyHouse").service("SongSearchService",t),t.$inject=["Song","$http"]}(),function(){"use strict";function t(){}angular.module("PartyAtMyHouse").controller("StartPartyController",t)}(),function(){"use strict"}();